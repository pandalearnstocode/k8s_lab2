# Fast API Microservice architecture

## List of services

* __Client:__ Here we are going use a streamlit app, in a real world scenario it will be replaced by a real frontend app. The objective of this application is to trigger communication between other services and see that they interaction is working fine or not.
* __Application:__ All the project data, authentication & authorization level workflow will be managed in this layer. This will be connect to a project db & other tables in the db associated with the project meta data.
* __ML:__ This will be a service with all the heavy lifting related task like more training & serving etc. This needs to be connected with the celery worker, rabbit mq and flower.
* __Data:__ This is the service using which any data fetching and aggregation will happen from the db. redis needs to be integrated with this so that the same aggregated data is not pulled multiple times. It should be stored in a cached memory for certain time.
* __Reporting:__ Any data generated from the model will go through this layer to be reshaped in the desired from.
* __DB:__ Here for simplification we are going to create one db, but in real life scenario the project data db and raw data db will be different. the config needs to be adjusted according to that.
* __DB Admin:__ Same as above.
* __Prometheus:__ this will be used to monitor multiple services running in the cluster and gather all the metrics. Note, in case of ml layer some customs metrics needs to be fetched. 
* __Grafana:__ Use Loki to monitor all the logs generated by all the components. 
* __Utility:__ Common API services to help common tasks in different layers/services.
* __Redis Cache__
* __Celery__
* __Flower__
* __Rabbit MQ__

## __Other important components__

* __ML/Data/Utils library__
* __Ingress controller__
* __CI/CD__